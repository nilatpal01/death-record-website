extends base

mixin overviewBox(label,text,icon)
    .overview-box__detail 
        svg.overview-box__icon
            use(xlink:href=`/img/icons.svg#icon-${icon}`)
        span.overview-box__label= label
        span.overview-box__text= text

block content
    section.section--header 
        .header__hero 
            .header__hero-overlay &nbsp;
            h1.heading-primary
                span.hero-text= 'Form no. 4' 
                br
                span.hero-text= '(See Rule no. 7)'
                br
                span.hero-text= 'Medical Certificate of cause of Death'
            p.hero-para='(hospital in patient not to be used for stillbirths)'
            p.hero-para='To be sent to Registrar along with Form no.2 (Death Report)'
            h2.heading-secondary.heading-margin=`Name of the hospital : ${form.hospitalName}`
            p.heading-para=`I hereby certify that person whose particulars are given below died in the hospital in ward no ${form.wardNo} on ${form.deathDate.toLocaleString('en-us', {month:'long', year: 'numeric'})} at ${form.deathDate.getHours()} hours ${form.deathDate.getMinutes()} minutes and ${form.deathDate.getSeconds()} seconds`
    section.section-description 
        .overview-box 
            div
                .overview-box__group
                    h2.heading-secondary.ma-bt-lg=`Name of Deceased : ${form.nameOftheDeceased}`

                    +overviewBox('Sex', form.sex , 'user' )
                    +overviewBox('Age at Death', `${form.age} years` , 'calendar' )
                
                .overview-box__group
                    h2.heading-secondary.ma-bt-lg=`Cause of Death : ${form.causeOfDeath}`

                    +overviewBox('Immediate Cause', `${form.immediateCause} due to (or as consiquences of)`, 'tag')
                    if typeof  form.antecedentCause1!=='undefined' 
                        +overviewBox('Antecedent Cause', `${form.antecedentCause1} due to (or as consiquences of)`, 'tag' )
                    if typeof  form.otherSignificantCause!=='undefined'
                        +overviewBox('Other Significant Cause', `${form.otherSignificantCause} due to (or as consiquences of)`, 'tag' )
                    +overviewBox('Interval between onset & death (approx)', `${form.betweenOnsetAndDeath}`, 'clock' )
        
        .description-box
            h2.heading-secondary.ma-bt-lg='How did the injury Occured?'
            if typeof  form.howInjuryOccured!=='undefined' 
                +overviewBox('Reason', `${form.howInjuryOccured}`, 'activity')
            +overviewBox('Manner of Death', `${form.mannerOfDeath}`, 'star')
            svg.overview-box__icon
                use(xlink:href=`/img/icons.svg#icon-alert-circle`)
            h3.heading-tertirary.ma-bt-lg='If deceased was a female, was pregnency the death associated with it ?'
            -if(form.isFemale === true) 
                +overviewBox('Pregnent', 'YES', 'activity')  
            -if(form.isFemale === false)            
                +overviewBox('Pregnent', 'NO', 'activity')
            svg.overview-box__icon
                use(xlink:href=`/img/icons.svg#icon-alert-circle`)
                h3.heading-tertirary.ma-bt-lg='If yes, was there a delivery?'
            -if(form.isDelivery === true) 
                +overviewBox('Delivery', 'YES', 'activity')  
            -if(form.isDelivery === false)            
                +overviewBox('Delivery', 'NO', 'activity')
